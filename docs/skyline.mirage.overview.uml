# The source uml for skyline.mirage.overview.png as generated by PlantUML
@startuml
title <font color=#6698FF>Sky</font><font color=#dd3023>line</font> Mirage - overview

actor You << Human >>

[Graphite] as Graphite

[alerter] as alerter

[Analyzer] as Analyzer

[Mirage] as Mirage

[Panorama] as Panorama

[Redis] as Redis

Analyzer -down-> Panorama : anomalous metric <font color=#dd3023>WITHOUT</font>\nSECOND_ORDER_RESOLUTION_HOURS\nsend to Panorama\nIF no Panorama metric key exist n Redis

Analyzer -left--> Redis : Analyzer gets metric\ntimeseries data from Redis

Analyzer -left--> Redis : Analyzer checks and sets\nmetric and app\nexpiry keys in Redis

Analyzer -down-> alerter : Analyzer <font color=#dd3023>ALERT</font>\nanomalous metric <font color=#dd3023>WITHOUT</font>\nSECOND_ORDER_RESOLUTION_HOURS\nsend alert IF the metric\nnamespace is defined in ALERTS\nand the metric has no expiry key set

Analyzer -down-> Mirage : anomalous metric <font color=#6698FF>WITH</font>\nSECOND_ORDER_RESOLUTION_HOURS\nset to 168 in ALERTS tuple\nDo not go to alerter\nsend to Mirage

Mirage <-- Graphite : Mirage gets 168 hours\nof timeseries data\nfor the metric\nfrom Graphite

Mirage -up--> Redis : Mirage checks and sets\nmetric and app\nexpiry keys in Redis

Mirage -down-> Panorama : anomalous metric <font color=#6698FF>WITH</font>\nSECOND_ORDER_RESOLUTION_HOURS\nsend to Panorama\nIF no Panorama metric key exist n Redis

Mirage -right-> alerter : Mirage <font color=#dd3023>ALERT</font>\nanomalous metric <font color=#6698FF>WITH</font>\nSECOND_ORDER_RESOLUTION_HOURS\nsend alert IF the metric has no expiry key set

alerter -down-> You

right footer Source https://github.com/earthgecko/skyline/tree/v1.0.3-beta-crucible/docs/skyline.mirage.overview.uml\nGenerated by http://plantuml.com/plantuml

@enduml
