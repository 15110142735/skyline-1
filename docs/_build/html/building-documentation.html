

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Building documentation &mdash; Skyline 1.0.6-dev documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/skyline.styles.css" type="text/css" />
  

  
    <link rel="top" title="Skyline 1.0.6-dev documentation" href="index.html"/>
        <link rel="next" title="Release Notes" href="releases.html"/>
        <link rel="prev" title="Debian and Vagrant Installation Tips" href="debian-and-vagrant-installation-tips.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Skyline
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="running-in-python-virtualenv.html">Running Skyline in a Python virtualenv</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrading.html">Upgrading</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-data-into-skyline.html">Getting data into Skyline</a></li>
<li class="toctree-l1"><a class="reference internal" href="alert-testing.html">Alert testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="horizon.html">Horizon</a></li>
<li class="toctree-l1"><a class="reference internal" href="analyzer.html">Analyzer</a></li>
<li class="toctree-l1"><a class="reference internal" href="analyzer-optimizations.html">Analyzer Optimizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="mirage.html">Mirage</a></li>
<li class="toctree-l1"><a class="reference internal" href="boundary.html">Boundary</a></li>
<li class="toctree-l1"><a class="reference internal" href="crucible.html">Crucible</a></li>
<li class="toctree-l1"><a class="reference internal" href="panorama.html">Panorama</a></li>
<li class="toctree-l1"><a class="reference internal" href="webapp.html">Webapp</a></li>
<li class="toctree-l1"><a class="reference internal" href="redis-integration.html">Redis integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="skyline-and-friends.html">Skyline and friends</a></li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="tuning-tips.html">Tuning tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="tuning-tips.html#smaller-deployments">Smaller deployments</a></li>
<li class="toctree-l1"><a class="reference internal" href="tuning-tips.html#reliability">Reliability</a></li>
<li class="toctree-l1"><a class="reference internal" href="monitoring-skyline.html">Monitoring Skyline</a></li>
<li class="toctree-l1"><a class="reference internal" href="debian-and-vagrant-installation-tips.html">Debian and Vagrant Installation Tips</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Building documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#your-python-interpretor">Your Python interpretor</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rst-and-md-wtf"><code class="docutils literal"><span class="pre">.rst</span></code> and <code class="docutils literal"><span class="pre">.md</span></code> wtf?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#build">Build</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="whats-new.html">What&#8217;s new</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="skyline.html">skyline package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Skyline</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Building documentation</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/building-documentation.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="building-documentation">
<span id="building-documentation"></span><h1>Building documentation<a class="headerlink" href="#building-documentation" title="Permalink to this headline">¶</a></h1>
<p>Currently <a class="reference external" href="http://www.sphinx-doc.org">sphinx</a> and sphinx-apidoc is being used to
documented the code and project, however to get working docs, a small
modification is required to the files outputted by sphinx-apidoc.</p>
<p>This is related to the package restructure undertaken to make the Skyline code
and layout more in line with a normal python package.  Although this seems to
have been achieved, the small hack to the sphinx-apidoc output suggests that
this is not 100% correct.  Further evidence of this is in terms of importing
from settings.py, the path needs to be appended in the code, which really should
not be required.  However, it is working and in the future this should be
figured and fixed.  Perhaps the below edit of the autogenerated .rst files
could be achieved with a sphinx <code class="docutils literal"><span class="pre">conf.py</span></code> setting, if anyone knows please do
let us know :)</p>
<p>For now...</p>
<div class="section" id="your-python-interpretor">
<span id="your-python-interpretor"></span><h2>Your Python interpretor<a class="headerlink" href="#your-python-interpretor" title="Permalink to this headline">¶</a></h2>
<p>Open docs/conf.py and change the following to your python interpretor</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># The PATH to YOUR python</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s1">&#39;/opt/python_virtualenv/projects/skyline2711/lib/python2.7/site-packages&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="rst-and-md-wtf">
<span id="rst-and-md-wtf"></span><h2><code class="docutils literal"><span class="pre">.rst</span></code> and <code class="docutils literal"><span class="pre">.md</span></code> wtf?<a class="headerlink" href="#rst-and-md-wtf" title="Permalink to this headline">¶</a></h2>
<p>The documentation is written in both <code class="docutils literal"><span class="pre">.md</span></code> and <code class="docutils literal"><span class="pre">.rst</span></code> format, because it can be
thanks to the awesome of <a class="reference external" href="http://www.sphinx-doc.org">sphinx</a>.  The original
Skyline documentation was written in <code class="docutils literal"><span class="pre">.md</span></code> for github.  The documentation is
being ported over to <code class="docutils literal"><span class="pre">.rst</span></code> to allow for the full functionality of sphinx
documentation.</p>
</div>
<div class="section" id="build">
<span id="build"></span><h2>Build<a class="headerlink" href="#build" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span>APPDIR=&lt;PATH_TO_YOUR_SKYLINE_REPO_DIRECTORY&gt;

cd &quot;$APPDIR/docs&quot;

sphinx-apidoc --force -o &quot;${APPDIR}/docs&quot; &quot;${APPDIR}/skyline&quot; skyline

# Inline edit all apidoc generated .rst files in docs/skyline.*rst
for i in $(find &quot;${APPDIR}/docs&quot; -type f -name &quot;skyline.*rst&quot;)
do
  cat &quot;$i&quot; &gt; &quot;${i}.original&quot;
  cat &quot;${i}.original&quot; | sed -e &#39;/package/!s/automodule:: skyline\./automodule:: /g&#39; &gt; &quot;$i&quot;
  rm -f &quot;${i}.original&quot;
done

cd &quot;$APPDIR/docs&quot;
make clean
rm -rf _build/*
make html
for i in $(find &quot;$APPDIR&quot; -type f -name &quot;*.pyc&quot;)
do
  rm -f &quot;$i&quot;
done
</pre></div>
</div>
<p>Or something like this...</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>function build_docs() {

  # Arguments:
  # APP_DIR - path to your Skyline dir, e.g.
  # build_docs ~/github/earthgecko/skyline/develop/skyline

  if [ -n &quot;$1&quot; ]; then
    APPDIR=$1
  fi

  if [ -z &quot;$APPDIR&quot; ]; then
    echo &quot;error: could not determine APPDIR - $APPDIR&quot;
    return 1
  fi

  if [ ! -d &quot;$APPDIR/docs&quot; ]; then
    echo &quot;error: directory not found - $APPDIR/docs&quot;
    return 1
  fi
  cd &quot;$APPDIR/docs&quot;
  echo &quot;Building Skyline documentation - in $APPDIR/docs&quot;
  sphinx-apidoc --force -o &quot;${APPDIR}/docs&quot; &quot;${APPDIR}/skyline&quot; skyline

  # Inline edit all apidoc generated .rst files in docs/skyline.*rst
  for i in $(find &quot;${APPDIR}/docs&quot; -type f -name &quot;skyline.*rst&quot;)
  do
    cat &quot;$i&quot; &gt; &quot;${i}.org&quot;
    cat &quot;${i}.org&quot; | sed -e &#39;/package/!s/automodule:: skyline\./automodule:: /g&#39; &gt; &quot;$i&quot;
    rm -f &quot;${i}.org&quot;
  done

  cd &quot;$APPDIR/docs&quot;
  make clean
  rm -rf _build/*
  make html
  for i in $(find &quot;$APPDIR&quot; -type f -name &quot;*.pyc&quot;)
  do
    rm -f &quot;$i&quot;
  done
  for i in $(find &quot;$APPDIR&quot; -type d -name &quot;__pycache__&quot;)
  do
    rm -rf &quot;$i&quot;
  done
  cd
}

# build_docs &lt;app_dir&gt;
</pre></div>
</div>
<p>Building workflow diagrams with UML
###################################</p>
<p>This can be quite handy to make simple diagrams, if not finicky.  A good resource
is the PlantUML.com server is handy for making workflow diagrams, without having
to create and edit SVGs.</p>
<p>The docs/skyline.simplified.workflow.uml rendered by the PlantUML server:
<code class="docutils literal"><span class="pre">Simplified</span> <span class="pre">Skyline</span> <span class="pre">workflow</span> <span class="pre">with</span> <span class="pre">PlantUML</span> <span class="pre">server&lt;http://plantuml.com/plantuml/png/ZLFBJWCn3BpdAwozmmTKLQLo0IIGW0ekY4EwwrAhUQoSNLO5yU-upQEx2A6U4eyzCqwSTDGPXDLkRyWX1BAjeGrX0uFdtSRuGIbTTvvXsLXo53hMXsW-XvlUQWUBXLAryNq3NmhWrMB7L8Stq07INdqhvNo3K5spRhVKOQLKoi750Z8Aiyo0pXSqSv-meL3bw7w_UhmhqTOpVNedST4ItOHEPMyYg79IwexAqweZfDIhDiWTSZnE3hAhTjhiFv4hbNSmlxmiSiiCjhqneaeM0p9XW0rxcomAK_h8-iBLpbj9H2ZxhNtl6itxIkNTnEygW__v5UOPVfPOlsCrwJ5YmcZxi4qqtmS8g8ENkZBpL7XeS3JV-uZ-tM6PUEAUqM8hA6khnqqsVd12pQaHLGRxaD3YSLxrwThEgo_fN7zyhrBCM7jk4kTmSd8nbqyqu5gtRQNYUXhm68Y44N3wA-N2n7FwOMVnvkJr_lh8mazICtWX7E3v5Zv8mvhz8EFv0G00&gt;</span></code>__</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="releases.html" class="btn btn-neutral float-right" title="Release Notes" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="debian-and-vagrant-installation-tips.html" class="btn btn-neutral" title="Debian and Vagrant Installation Tips" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013-2014, Etsy Inc; 2015, Abe Stanway; 2015-2016, Gary Wilson.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0.6-dev',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>